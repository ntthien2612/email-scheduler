<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Email Templates</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">

<h2>Email Templates</h2>

<div class="mb-3 d-flex justify-content-between align-items-center">
    <a th:href="@{/}" class="btn btn-secondary">‚Üê Back to Home</a>
    <a href="/templates/create" class="btn btn-primary mb-2">+ New Template</a>
</div>

<table class="table table-bordered">
    <thead>
    <tr>
        <th>Name</th>
        <th>Subject</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="t : ${templates}">
        <td th:text="${t.name}"></td>
        <td th:text="${t.subject}"></td>
        <td>
            <a th:href="@{|/templates/${t.id}/edit|}" class="btn btn-sm btn-warning">Edit</a>
            <a th:href="@{|/templates/${t.id}/preview|}" class="btn btn-sm btn-info">Preview</a>
            <form th:action="@{|/templates/${t.id}/delete|}" method="post" style="display:inline">
                <button class="btn btn-sm btn-danger" onclick="return confirm('Delete?')">Delete</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>

<div>
    <a th:if="${templates.hasPrevious()}" th:href="@{/templates(page=${templates.number-1}, size=${templates.size})}">Previous</a>
    <span th:text="${templates.number + 1}"></span>/<span th:text="${templates.totalPages}"></span>
    <a th:if="${templates.hasNext()}" th:href="@{/templates(page=${templates.number+1}, size=${templates.size})}">Next</a>
</div>

</body>
</html>
